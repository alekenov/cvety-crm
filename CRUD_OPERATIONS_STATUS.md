# Статус CRUD операций в Cvety.kz CRM

## Дата проверки: 29.07.2025

## 1. Заказы (Orders)

### API Endpoints:
- ✅ **CREATE**: `POST /api/orders/` - Работает
- ✅ **READ**: `GET /api/orders/` - Работает (список)
- ✅ **READ**: `GET /api/orders/{id}` - Работает (детали)
- ✅ **UPDATE**: `PATCH /api/orders/{id}` - Работает
- ✅ **UPDATE**: `PATCH /api/orders/{id}/status` - Работает
- ✅ **UPDATE**: `PATCH /api/orders/{id}/issue` - Работает
- ❌ **DELETE**: Не реализовано (правильно, заказы не удаляются)

### UI Функциональность:
- ✅ Список заказов с фильтрацией
- ✅ Создание нового заказа через `/orders/new`
- ✅ Просмотр деталей заказа `/orders/{id}`
- ✅ Изменение статуса заказа
- ✅ Отметка проблем с заказом

## 2. Клиенты (Customers)

### API Endpoints:
- ✅ **CREATE**: `POST /api/customers/` - Работает
- ✅ **READ**: `GET /api/customers/` - Работает (список)
- ✅ **READ**: `GET /api/customers/{id}` - Работает (детали)
- ✅ **UPDATE**: `PUT /api/customers/{id}` - Работает
- ❌ **DELETE**: Не реализовано

### UI Функциональность:
- ✅ Список клиентов с поиском
- ✅ Создание клиента (автоматически при создании заказа)
- ✅ Просмотр карточки клиента `/customers/{id}`
- ✅ Редактирование данных клиента
- ⚠️ Управление адресами (UI есть, но не сохраняется в БД)
- ⚠️ Важные даты (UI есть, но не сохраняется в БД)

## 3. Склад (Warehouse)

### API Endpoints:
- ❌ **CREATE**: Только через приемку товаров
- ✅ **READ**: `GET /api/warehouse/` - Работает
- ✅ **UPDATE**: `POST /api/warehouse/delivery` - Работает (приемка)
- ❌ **DELETE**: Не реализовано

### UI Функциональность:
- ✅ Список товаров на складе
- ✅ Приемка товаров `/warehouse/delivery`
- ✅ Фильтрация по статусу остатков
- ✅ Конвертация валют (USD/EUR в KZT)

## 4. Производство (Production)

### API Endpoints:
- ❌ **CREATE**: `POST /api/production/tasks` - Не реализовано
- ❌ **READ**: `GET /api/production/tasks` - 404 Not Found
- ✅ **READ**: `GET /api/production/queue/stats` - Работает
- ❌ **UPDATE**: Не реализовано
- ❌ **DELETE**: Не реализовано

### UI Функциональность:
- ⚠️ Канбан-доска (UI готов, но нет данных)
- ✅ Калькулятор букетов `/production/calculator`
- ❌ Создание производственных задач
- ❌ Управление задачами

## 5. Каталог продуктов (Products)

### API Endpoints:
- ❌ **CREATE**: `POST /api/products` - 404 Not Found
- ❌ **READ**: `GET /api/products` - 404 Not Found
- ❌ **UPDATE**: Не реализовано
- ❌ **DELETE**: Не реализовано

### UI Функциональность:
- ❌ Список продуктов
- ❌ Создание продукта `/catalog/new`
- ❌ Редактирование продукта
- ❌ Загрузка фотографий

## 6. Настройки (Settings)

### API Endpoints:
- ❌ **CREATE**: N/A (одна запись)
- ✅ **READ**: `GET /api/settings/` - Работает
- ✅ **UPDATE**: `PUT /api/settings/` - Работает
- ❌ **DELETE**: N/A

### UI Функциональность:
- ✅ Просмотр настроек компании
- ✅ Редактирование настроек
- ⚠️ Управление пользователями (UI есть, API нет)

## 7. Трекинг (Tracking)

### API Endpoints:
- ❌ **CREATE**: Автоматически при создании заказа
- ✅ **READ**: `GET /api/tracking/{token}` - Работает
- ❌ **UPDATE**: N/A
- ❌ **DELETE**: N/A

### UI Функциональность:
- ✅ Публичная страница отслеживания
- ✅ Маскировка личных данных
- ✅ Отображение статуса заказа

## Общая статистика

### Полностью функциональные модули:
1. ✅ **Заказы** - Все CRUD операции работают
2. ✅ **Клиенты** - Основные операции работают
3. ✅ **Настройки** - Чтение и обновление работают
4. ✅ **Трекинг** - Работает как задумано

### Частично функциональные:
1. ⚠️ **Склад** - Нет прямого создания, только приемка
2. ⚠️ **Производство** - Только статистика, нет управления задачами

### Нефункциональные:
1. ❌ **Каталог продуктов** - API не реализован
2. ❌ **Пользователи** - Нет системы авторизации

## Критические проблемы для исправления:

1. **Реализовать API для продуктов** - без этого невозможно управлять каталогом
2. **Реализовать API для производственных задач** - канбан-доска не работает
3. **Исправить сохранение адресов и важных дат клиентов** - данные теряются
4. **Добавить систему пользователей и авторизацию** - безопасность