# ü§ñ –ü—Ä–æ—Å—Ç–æ–π Telegram –ë–æ—Ç @lekenbot –¥–ª—è Cvety.kz

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–û–±–Ω–æ–≤–ª–µ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –±–æ—Ç @lekenbot - —É–±—Ä–∞–Ω Mini App, –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞:
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∏ OTP –∫–æ–¥–æ–≤ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏  
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–∞—Ö
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–∫–µ–Ω: `7820558956:AAGQiNqe-AZjG69mo4KR5l6gJwZBrPUy_-w`

## –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```bash
# –í .env —Ñ–∞–π–ª–µ –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è Railway
TELEGRAM_BOT_TOKEN=your_bot_token_here
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –±–æ—Ç–∞
```bash
cd backend
python3 simple_telegram_bot.py
```

–ò–ª–∏ –¥–ª—è production (Railway):
```bash
python3 simple_telegram_bot.py &
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ OTP
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–π—Ç
2. –í–≤–æ–¥–∏—Ç –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –±–æ—Ç—É –≤ Telegram
4. –ù–∞–∂–∏–º–∞–µ—Ç "–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥" –Ω–∞ —Å–∞–π—Ç–µ
5. –ü–æ–ª—É—á–∞–µ—Ç OTP –∫–æ–¥ –≤ Telegram
6. –í–≤–æ–¥–∏—Ç –∫–æ–¥ –Ω–∞ —Å–∞–π—Ç–µ

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–∫–∞–∑–∞—Ö
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü—É –º–∞–≥–∞–∑–∏–Ω–∞ –≤ Telegram
- –í–∫–ª—é—á–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞: —Å—É–º–º–∞, –∫–ª–∏–µ–Ω—Ç, –∞–¥—Ä–µ—Å

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- `/status` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞

## –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –°–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–æ–º–µ—Ä –±–æ—Ç—É ‚Üí –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Redis
                                    ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è OTP
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ OTP
```
–°–∞–π—Ç ‚Üí –ó–∞–ø—Ä–æ—Å OTP ‚Üí –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è Redis ‚Üí Telegram API ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–∫–∞–∑–∞—Ö
```
–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ ‚Üí –ò—â–µ—Ç—Å—è telegram_id ‚Üí –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ ‚Üí –í–ª–∞–¥–µ–ª–µ—Ü –º–∞–≥–∞–∑–∏–Ω–∞
```

## –§–∞–π–ª—ã

- `simple_telegram_bot.py` - –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞
- `app/services/telegram_service.py` - –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å (–±–µ–∑ Mini App)
- `src/pages/login/index.tsx` - –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∞ frontend

## –û—Ç–ª–∞–¥–∫–∞

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏:
```python
logger.info(f"Phone {phone} linked to Telegram user {telegram_id}")
logger.info(f"Order notification sent to shop {shop.name}")
```

## Production –¥–µ–ø–ª–æ–π

–ù–∞ Railway –±–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∫ —á–∞—Å—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `TELEGRAM_BOT_TOKEN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è Railway.